(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.baseUrl,r=e.headers,o=void 0===r?{}:r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=o}var n,r;return n=t,(r=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then(this._checkResponse)}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"addCard",value:function(e){var t=e.name,n=e.link,r=e.userId;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:n,_id:r})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"likeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"unlikeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=this,r=t.data,o=t.handleCardClick,i=void 0===o?function(){}:o,a=t.handleDeleteClick,c=void 0===a?function(){return console.log("test")}:a,l=t.templateSelector,s=void 0===l?"#place-template":l,u=t.handleLike,f=void 0===u?function(){}:u,h=t.userId,d=void 0===h?null:h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=r._id,this._name=r.name,this._link=r.link,this._templateSelector=s,this._handleCardClick=i,this._handleDeleteClick=c,this._handleLike=f,this._userId=d,this._isDeletePossible=r.owner._id===d,this._likes=r.likes,this._likedByUser=this._likes.find((function(e){return e._id===n._userId}))}var t,r;return t=e,(r=[{key:"_onLikeHandler",value:function(){this._cardLikeButton.classList.contains("places__like_active")?this._handleLike(this,!1):this._handleLike(this,!0)}},{key:"_onDeleteHandler",value:function(){this._handleDeleteClick(this)}},{key:"_addEventListeners",value:function(){var e=this;this._cardDelete.addEventListener("click",this._onDeleteHandler.bind(this)),this._cardLikeButton.addEventListener("click",this._onLikeHandler.bind(this)),this._cardImg.addEventListener("click",(function(){return e._handleCardClick(e._name,e._link)}))}},{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".places__item").cloneNode(!0)}},{key:"removeCard",value:function(){this._cardItem.remove(),this._cardItem=null}},{key:"like",value:function(e){this._cardLikeCounter.textContent=e,this._cardLikeButton.classList.toggle("places__like_active")}},{key:"getCard",value:function(){return this._cardItem=this._getTemplate(),this._cardImg=this._cardItem.querySelector(".places__img"),this._cardName=this._cardItem.querySelector(".places__name"),this._cardDelete=this._cardItem.querySelector(".places__delete"),this._cardDelete.disabled=!this._isDeletePossible,this._cardLikeButton=this._cardItem.querySelector(".places__like"),this._cardLikeCounter=this._cardItem.querySelector(".places__like-counter"),this._likedByUser&&this._cardLikeButton.classList.add("places__like_active"),this._cardLikeCounter.textContent=this._likes.length,this._cardImg.src=this._link,this._cardImg.alt="Фотография ".concat(this._name),this._cardName.textContent=this._name,this._addEventListeners(),this._cardItem}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=t.userNameSelector,r=t.roleSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar,userId:this._id}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id;t&&(this._name.textContent=t),n&&(this._about.textContent=n),r&&(this._avatar.src=r),o&&(this._id=o)}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"setItems",value:function(e){this._items=e}},{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}}])&&a(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),s(this,"_onContainerClick",(function(e){e.stopPropagation()})),s(this,"_onOverlayClick",(function(){n.close()})),this._modal=document.querySelector(t),this._closeButton=this._modal.querySelector(".modal__close"),this._modalContainer=this._modal.querySelector(".modal__container")}var t,n;return t=e,(n=[{key:"close",value:function(){this._modal.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose),this._modalContainer.removeEventListener("mousedown",this._onContainerClick),document.removeEventListener("mousedown",this._onOverlayClick)}},{key:"open",value:function(){this._modal.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose),this._modalContainer.addEventListener("mousedown",this._onContainerClick),document.addEventListener("mousedown",this._onOverlayClick)}},{key:"setEventListeners",value:function(){this._closeButton.addEventListener("click",this.close.bind(this))}}])&&l(t.prototype,n),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._modalPhotoImg=t._modal.querySelector(".photo__img"),t._modalPhotoCaption=t._modal.querySelector(".photo__caption"),t}return t=a,(n=[{key:"_cleanUpPhotoContainer",value:function(){this._modalPhotoImg.src="",this._modalPhotoImg.alt="",this._modalPhotoCaption.textContent=""}},{key:"open",value:function(e,t){this._cleanUpPhotoContainer(),this._modalPhotoImg.src=t,this._modalPhotoImg.alt="Большая и очень красивая фотография ".concat(e),this._modalPhotoCaption.textContent=e,d(p(a.prototype),"open",this).call(this)}}])&&h(t.prototype,n),a}(u);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(e){var t,n,r=e.modalSelector,o=e.onSubmit,c=e.formValidator,l=void 0===c?null:c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),w(S(n=i.call(this,r)),"setLoading",(function(e){n._submitButton.value=e?"Сохранение...":n._defaultSubmitButtonValue})),w(S(n),"open",(function(){n._formValidator&&(n._inputList.forEach((function(e){return n._formValidator.hideInputError(e)})),n._formValidator.toggleButtonState()),C((t=S(n),E(a.prototype)),"open",t).call(t)})),n._inputList=n._modal.querySelectorAll(".modal__text-input"),n._modalForm=n._modal.querySelector(".modal__form"),n._submitButton=n._modalForm.querySelector(".modal__submit-input"),n._defaultSubmitButtonValue=n._submitButton.value,n._formValidator=l,n._onSubmit=o,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"enableFormValidation",value:function(){this._formValidator?this._formValidator.enableValidation():console.log("Form validator wasn't provided to constructor")}},{key:"setEventListeners",value:function(){var e=this;this._modalForm.addEventListener("submit",(function(t){t.preventDefault(),e._onSubmit(e._getInputValues())})),C(E(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){C(E(a.prototype),"close",this).call(this),this._modalForm.reset()}}])&&b(t.prototype,n),a}(u);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(e){var t,n=e.modalSelector,r=e.onSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._onSubmit=r,t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._modal.addEventListener("submit",(function(t){t.preventDefault(),e._onSubmit(e._data)})),P(q(a.prototype),"setEventListeners",this).call(this)}},{key:"open",value:function(e){this._data=e,P(q(a.prototype),"open",this).call(this)}}])&&O(t.prototype,n),a}(u);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,"_checkInputValidity",(function(e){e.validity.valid?r.hideInputError(e):r._showInputError(e,e.validationMessage)})),B(this,"_setEventListeners",(function(){r.toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r.toggleButtonState()}))}))})),this._formElement=n,this._inputSelector=t.inputSelector||".modal__text-input",this._submitSelector=t.submitSelector||".modal__submit-input",this._inputErrorClass=t.inputErrorClass||"modal__text-input_error",this._errorClass=t.errorElement||"modal__text-input-error_active",this._inputList=Array.from(this._formElement.querySelectorAll("".concat(this._inputSelector))),this._submitElement=this._formElement.querySelector("".concat(this._submitSelector))}var t,n;return t=e,(n=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add("".concat(this._inputErrorClass)),n.textContent=t,n.classList.add("".concat(this._errorClass))}},{key:"hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove("".concat(this._inputErrorClass)),t.classList.remove("".concat(this._errorClass)),t.textContent=""}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._submitElement.disabled=!0:this._submitElement.disabled=!1}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&V(t.prototype,n),e}(),T=document.querySelector(".profile__add"),D=document.querySelector(".profile__avatar"),F=document.querySelector(".profile__edit"),N=document.querySelector("#name"),A=document.querySelector("#about"),H=document.querySelector(".modal__form_profile"),J=document.querySelector(".modal__form_add"),z=document.querySelector(".modal__form_avatar"),M=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-24",headers:{authorization:"2c1a2c33-777d-40ba-aa82-2e8cada55ffd","Content-Type":"application/json"}}),G=new i({userNameSelector:".profile__name",roleSelector:".profile__role",avatarSelector:".profile__avatar-img"}),K=new U({modalSelector:".modal_confirm",onSubmit:function(e){M.deleteCard(e._id).then((function(){return e.removeCard()})).then((function(){return K.close()})).catch((function(e){return console.error(e)}))}});K.setEventListeners();var Q=new y(".modal_photo");Q.setEventListeners();var W=function(e,t){Q.open(e,t)},X=function(e){K.open(e)},Y=function(e,t){t?M.likeCard(e).then((function(t){e.like(t.likes.length)})).catch((function(e){return console.error(e)})):M.unlikeCard(e).then((function(t){e.like(t.likes.length)})).catch((function(e){return console.error(e)}))},Z=function(e){var t=G.getUserInfo().userId;return new r({data:e,handleCardClick:W,userId:t,handleDeleteClick:X,handleLike:Y})},$=new c({renderer:function(e){var t=Z(e);$.addItem(t.getCard())}},".places__list");M.getUserInfo().then((function(e){G.setUserInfo(e),M.getInitialCards().then((function(e){$.setItems(e),$.renderItems()}))})).catch((function(e){return console.error(e)}));var ee=new L({modalSelector:".modal_add",onSubmit:function(e){var t=G.getUserInfo().userId;ee.setLoading(!0),M.addCard({name:e.name,link:e.link,userId:t}).then((function(e){var t=Z(e);$.prependItem(t.getCard())})).then((function(){return ee.close()})).catch((function(e){return console.error(e)})).finally((function(){ee.setLoading(!1)}))},formValidator:new x({},J)});ee.setEventListeners(),ee.enableFormValidation(),T.addEventListener("click",(function(){return ee.open()}));var te=new L({modalSelector:".modal_avatar",onSubmit:function(e){te.setLoading(!0),M.setUserAvatar(e).then((function(t){G.setUserInfo(e)})).then((function(){return te.close()})).catch((function(e){return console.error(e)})).finally((function(){te.setLoading(!1)}))},formValidator:new x({},z)});te.setEventListeners(),te.enableFormValidation(),D.addEventListener("click",(function(){return te.open()}));var ne=new L({modalSelector:".modal_profile",onSubmit:function(e){ne.setLoading(!0),M.setUserInfo(e).then((function(e){return G.setUserInfo(e)})).then((function(){return ne.close()})).catch((function(e){return console.error(e)})).finally((function(){ne.setLoading(!1)}))},formValidator:new x({},H)});ne.setEventListeners(),ne.enableFormValidation(),F.addEventListener("click",(function(){var e=G.getUserInfo(),t=e.name,n=e.about;N.value=t,A.value=n,ne.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Nb2RhbHMvTW9kYWwuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Nb2RhbHMvTW9kYWxXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Nb2RhbHMvTW9kYWxXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL01vZGFscy9Nb2RhbENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sIm5hbWVzIjpbIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsImxpbmsiLCJ1c2VySWQiLCJfaWQiLCJpZCIsImNhcmQiLCJDYXJkIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiY29uc29sZSIsImxvZyIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVMaWtlIiwiX25hbWUiLCJfbGluayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlIiwiX3VzZXJJZCIsIl9pc0RlbGV0ZVBvc3NpYmxlIiwib3duZXIiLCJfbGlrZXMiLCJsaWtlcyIsIl9saWtlZEJ5VXNlciIsImZpbmQiLCJsaWtlIiwiX2NhcmRMaWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJfY2FyZERlbGV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfb25EZWxldGVIYW5kbGVyIiwiYmluZCIsIl9vbkxpa2VIYW5kbGVyIiwiX2NhcmRJbWciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRJdGVtIiwicmVtb3ZlIiwibmV3Q291bnQiLCJfY2FyZExpa2VDb3VudGVyIiwidGV4dENvbnRlbnQiLCJ0b2dnbGUiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZE5hbWUiLCJkaXNhYmxlZCIsImFkZCIsImxlbmd0aCIsInNyYyIsImFsdCIsIl9hZGRFdmVudExpc3RlbmVycyIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInJvbGVTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX2Fib3V0IiwiX2F2YXRhciIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIk1vZGFsIiwibW9kYWxTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwic3RvcFByb3BhZ2F0aW9uIiwiX21vZGFsIiwiX2Nsb3NlQnV0dG9uIiwiX21vZGFsQ29udGFpbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVFc2NDbG9zZSIsIl9vbkNvbnRhaW5lckNsaWNrIiwiX29uT3ZlcmxheUNsaWNrIiwiTW9kYWxXaXRoSW1hZ2UiLCJfbW9kYWxQaG90b0ltZyIsIl9tb2RhbFBob3RvQ2FwdGlvbiIsInVybCIsIl9jbGVhblVwUGhvdG9Db250YWluZXIiLCJNb2RhbFdpdGhGb3JtIiwib25TdWJtaXQiLCJmb3JtVmFsaWRhdG9yIiwiaXNMb2FkaW5nIiwiX3N1Ym1pdEJ1dHRvbiIsInZhbHVlIiwiX2RlZmF1bHRTdWJtaXRCdXR0b25WYWx1ZSIsIl9mb3JtVmFsaWRhdG9yIiwiX2lucHV0TGlzdCIsImlucHV0IiwiaGlkZUlucHV0RXJyb3IiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfbW9kYWxGb3JtIiwiX29uU3VibWl0IiwiX2Zvcm1WYWx1ZXMiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIk1vZGFsQ29uZmlybWF0aW9uIiwiX2RhdGEiLCJGb3JtVmFsaWRhdG9yIiwic2VsZWN0b3JzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdFNlbGVjdG9yIiwic3VibWl0U2VsZWN0b3IiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJfc3VibWl0RWxlbWVudCIsInNvbWUiLCJlcnJvck1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkQ2FyZEJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJwcm9maWxlRWRpdEJ1dHRvbiIsInVzZXJuYW1lSW5wdXQiLCJhYm91dElucHV0IiwiZWRpdFByb2ZpbGVGb3JtIiwiYWRkQ2FyZEZvcm0iLCJhdmF0YXJGb3JtIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwiY29uZmlybU1vZGFsIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUNhcmQiLCJjYXRjaCIsImVyciIsImVycm9yIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJpbWdNb2RhbCIsIm9uQ2FyZENsaWNrIiwib3BlbiIsIm9uQ2FyZERlbGV0ZSIsIm9uQ2FyZExpa2UiLCJpc0xpa2VkIiwibGlrZUNhcmQiLCJ1bmxpa2VDYXJkIiwiY3JlYXRlQ2FyZCIsImdldFVzZXJJbmZvIiwiY2FyZHMiLCJhZGRJdGVtIiwiZ2V0Q2FyZCIsInNldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwic2V0SXRlbXMiLCJyZW5kZXJJdGVtcyIsImFkZFBsYWNlTW9kYWwiLCJzZXRMb2FkaW5nIiwiYWRkQ2FyZCIsInByZXBlbmRJdGVtIiwiZmluYWxseSIsImVuYWJsZUZvcm1WYWxpZGF0aW9uIiwiYXZhdGFyTW9kYWwiLCJzZXRVc2VyQXZhdGFyIiwiX3JlcyIsInByb2ZpbGVNb2RhbCJdLCJtYXBwaW5ncyI6IjZMQUFxQkEsRSxXQUNuQixjQUF1QyxJQUF6QkMsRUFBeUIsRUFBekJBLFFBQXlCLElBQWhCQyxlQUFnQixNQUFOLEdBQU0sRyw0RkFBQSxTQUNyQ0MsS0FBS0MsU0FBV0gsRUFDaEJFLEtBQUtFLFNBQVdILEUsbURBR2xCLFNBQWVJLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBUixrQkFBMEJKLEVBQUlLLFcseUJBR3ZDLFdBQ0UsT0FBT0MsTUFBTSxHQUFELE9BQUlULEtBQUtDLFNBQVQsYUFBOEIsQ0FDeENGLFFBQVNDLEtBQUtFLFdBQ2JRLEtBQUtWLEtBQUtXLGtCLHlCQUdmLFlBQTZCLElBQWZDLEVBQWUsRUFBZkEsS0FBTUMsRUFBUyxFQUFUQSxNQUNsQixPQUFPSixNQUFNLEdBQUQsT0FBSVQsS0FBS0MsU0FBVCxhQUE4QixDQUN4Q2EsT0FBUSxRQUNSZixR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SSxRQUFRZ0osTUFBTUQsTUFDN0J3QixTQUFRLFdBQ1BLLEdBQWFSLFlBQVcsT0FHOUJqRixjQUFlLElBQUlvQixFQUFjLEdBQUk4QixLQUd2Q3VDLEdBQWEzQixvQkFDYjJCLEdBQWFKLHVCQUdidEMsRUFBa0I1RyxpQkFBaUIsU0FBUyxXQUMxQyxNQUF3Qm9ILEVBQVNpQixjQUF6QjNLLEVBQVIsRUFBUUEsS0FBTUMsRUFBZCxFQUFjQSxNQUNka0osRUFBYzdDLE1BQVF0RyxFQUN0Qm9KLEVBQVc5QyxNQUFRckcsRUFDbkIyTCxHQUFheEIsVyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzID0ge30gfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmssIHVzZXJJZCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICAgIF9pZDogdXNlcklkLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZC5faWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgdW5saWtlQ2FyZChjYXJkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZC5faWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgaGFuZGxlQ2FyZENsaWNrOiBoYW5kbGVDYXJkQ2xpY2sgPSAoKSA9PiB7IH0sXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2s6IGhhbmRsZURlbGV0ZUNsaWNrID0gKCkgPT4gY29uc29sZS5sb2coXCJ0ZXN0XCIpLFxuICAgIHRlbXBsYXRlU2VsZWN0b3I6IHRlbXBsYXRlU2VsZWN0b3IgPSBcIiNwbGFjZS10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUxpa2U6IGhhbmRsZUxpa2UgPSAoKSA9PiB7IH0sXG4gICAgdXNlcklkOiB1c2VySWQgPSBudWxsLFxuICB9KSB7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZSA9IGhhbmRsZUxpa2U7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkXG4gICAgdGhpcy5faXNEZWxldGVQb3NzaWJsZSA9IGRhdGEub3duZXIuX2lkID09PSB1c2VySWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzXG4gICAgdGhpcy5fbGlrZWRCeVVzZXIgPSB0aGlzLl9saWtlcy5maW5kKGxpa2UgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZClcbiAgfVxuXG4gIF9vbkxpa2VIYW5kbGVyKCkge1xuICAgIGlmICh0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwbGFjZXNfX2xpa2VfYWN0aXZlXCIpKSB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKHRoaXMsIGZhbHNlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKHRoaXMsIHRydWUpXG4gICAgfVxuICB9XG5cbiAgX29uRGVsZXRlSGFuZGxlcigpIHtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKVxuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmREZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2xpY2tcIixcbiAgICAgIHRoaXMuX29uRGVsZXRlSGFuZGxlci5iaW5kKHRoaXMpXG4gICAgKTtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fb25MaWtlSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9jYXJkSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19faXRlbVwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEl0ZW0ucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEl0ZW0gPSBudWxsO1xuICB9XG5cbiAgbGlrZShuZXdDb3VudCkge1xuICAgIHRoaXMuX2NhcmRMaWtlQ291bnRlci50ZXh0Q29udGVudCA9IG5ld0NvdW50XG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcInBsYWNlc19fbGlrZV9hY3RpdmVcIilcbiAgfVxuXG4gIGdldENhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEl0ZW0gPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRJbWcgPSB0aGlzLl9jYXJkSXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19faW1nXCIpO1xuICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX25hbWVcIik7XG4gICAgdGhpcy5fY2FyZERlbGV0ZSA9IHRoaXMuX2NhcmRJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19kZWxldGVcIik7XG4gICAgdGhpcy5fY2FyZERlbGV0ZS5kaXNhYmxlZCA9ICF0aGlzLl9pc0RlbGV0ZVBvc3NpYmxlO1xuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uID0gdGhpcy5fY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2xpa2VcIik7XG4gICAgdGhpcy5fY2FyZExpa2VDb3VudGVyID0gdGhpcy5fY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2xpa2UtY291bnRlclwiKTtcblxuICAgIGlmICh0aGlzLl9saWtlZEJ5VXNlcikge1xuICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcInBsYWNlc19fbGlrZV9hY3RpdmVcIilcbiAgICB9XG5cbiAgICB0aGlzLl9jYXJkTGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGhcbiAgICB0aGlzLl9jYXJkSW1nLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltZy5hbHQgPSBg0KTQvtGC0L7Qs9GA0LDRhNC40Y8gJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkSXRlbTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHJvbGVTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihyb2xlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhcixcbiAgICAgIHVzZXJJZDogdGhpcy5faWRcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQgfSkge1xuICAgIGlmIChuYW1lKSB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBpZiAoYWJvdXQpIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgaWYgKGF2YXRhcikgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgICBpZiAoX2lkKSB0aGlzLl9pZCA9IF9pZDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgc2V0SXRlbXMoaXRlbXMpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vZGFsU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XG4gICAgdGhpcy5fbW9kYWxDb250YWluZXIgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fbW9kYWxDb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICB0aGlzLl9vbkNvbnRhaW5lckNsaWNrXG4gICAgKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uT3ZlcmxheUNsaWNrKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBfb25Db250YWluZXJDbGljayA9IChldnQpID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG5cbiAgX29uT3ZlcmxheUNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfTtcblxuICBvcGVuKCkge1xuICAgIHRoaXMuX21vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9tb2RhbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uQ29udGFpbmVyQ2xpY2spO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fb25PdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhJbWFnZSBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3Rvcikge1xuICAgIHN1cGVyKG1vZGFsU2VsZWN0b3IpO1xuICAgIHRoaXMuX21vZGFsUGhvdG9JbWcgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvX19pbWdcIik7XG4gICAgdGhpcy5fbW9kYWxQaG90b0NhcHRpb24gPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvX19jYXB0aW9uXCIpO1xuICB9XG5cbiAgX2NsZWFuVXBQaG90b0NvbnRhaW5lcigpIHtcbiAgICB0aGlzLl9tb2RhbFBob3RvSW1nLnNyYyA9IFwiXCI7XG4gICAgdGhpcy5fbW9kYWxQaG90b0ltZy5hbHQgPSBcIlwiO1xuICAgIHRoaXMuX21vZGFsUGhvdG9DYXB0aW9uLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIG9wZW4obmFtZSwgdXJsKSB7XG4gICAgdGhpcy5fY2xlYW5VcFBob3RvQ29udGFpbmVyKCk7XG4gICAgdGhpcy5fbW9kYWxQaG90b0ltZy5zcmMgPSB1cmw7XG4gICAgdGhpcy5fbW9kYWxQaG90b0ltZy5hbHQgPSBg0JHQvtC70YzRiNCw0Y8g0Lgg0L7Rh9C10L3RjCDQutGA0LDRgdC40LLQsNGPINGE0L7RgtC+0LPRgNCw0YTQuNGPICR7bmFtZX1gO1xuICAgIHRoaXMuX21vZGFsUGhvdG9DYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhGb3JtIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcih7IG1vZGFsU2VsZWN0b3IsIG9uU3VibWl0LCBmb3JtVmFsaWRhdG9yID0gbnVsbCB9KSB7XG4gICAgc3VwZXIobW9kYWxTZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fdGV4dC1pbnB1dFwiKTtcbiAgICB0aGlzLl9tb2RhbEZvcm0gPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtaW5wdXRcIik7XG4gICAgdGhpcy5fZGVmYXVsdFN1Ym1pdEJ1dHRvblZhbHVlID0gdGhpcy5fc3VibWl0QnV0dG9uLnZhbHVlO1xuICAgIHRoaXMuX2Zvcm1WYWxpZGF0b3IgPSBmb3JtVmFsaWRhdG9yO1xuICAgIHRoaXMuX29uU3VibWl0ID0gb25TdWJtaXQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKFxuICAgICAgKGlucHV0KSA9PiAodGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBlbmFibGVGb3JtVmFsaWRhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2Zvcm1WYWxpZGF0b3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRm9ybSB2YWxpZGF0b3Igd2Fzbid0IHByb3ZpZGVkIHRvIGNvbnN0cnVjdG9yXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9mb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX21vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fb25TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldExvYWRpbmcgPSAoaXNMb2FkaW5nKSA9PiB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnZhbHVlID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udmFsdWUgPSB0aGlzLl9kZWZhdWx0U3VibWl0QnV0dG9uVmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2Zvcm1WYWxpZGF0b3IpIHtcbiAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT5cbiAgICAgICAgdGhpcy5fZm9ybVZhbGlkYXRvci5oaWRlSW5wdXRFcnJvcihpbnB1dClcbiAgICAgICk7XG4gICAgICB0aGlzLl9mb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgfVxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfTtcblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX21vZGFsRm9ybS5yZXNldCgpO1xuICB9XG59XG4iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxDb25maXJtYXRpb24gZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3Rvciwgb25TdWJtaXQgfSkge1xuICAgIHN1cGVyKG1vZGFsU2VsZWN0b3IpO1xuICAgIHRoaXMuX29uU3VibWl0ID0gb25TdWJtaXQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9tb2RhbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fb25TdWJtaXQodGhpcy5fZGF0YSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIG9wZW4oZGF0YSkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9ycywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZWxlY3RvcnMuaW5wdXRTZWxlY3RvciB8fCBcIi5tb2RhbF9fdGV4dC1pbnB1dFwiO1xuICAgIHRoaXMuX3N1Ym1pdFNlbGVjdG9yID0gc2VsZWN0b3JzLnN1Ym1pdFNlbGVjdG9yIHx8IFwiLm1vZGFsX19zdWJtaXQtaW5wdXRcIjtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPVxuICAgICAgc2VsZWN0b3JzLmlucHV0RXJyb3JDbGFzcyB8fCBcIm1vZGFsX190ZXh0LWlucHV0X2Vycm9yXCI7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9XG4gICAgICBzZWxlY3RvcnMuZXJyb3JFbGVtZW50IHx8IFwibW9kYWxfX3RleHQtaW5wdXQtZXJyb3JfYWN0aXZlXCI7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCR7dGhpcy5faW5wdXRTZWxlY3Rvcn1gKVxuICAgICk7XG4gICAgdGhpcy5fc3VibWl0RWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgJHt0aGlzLl9zdWJtaXRTZWxlY3Rvcn1gXG4gICAgKTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5faW5wdXRFcnJvckNsYXNzfWApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChgJHt0aGlzLl9lcnJvckNsYXNzfWApO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIGhpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGAke3RoaXMuX2lucHV0RXJyb3JDbGFzc31gKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShgJHt0aGlzLl9lcnJvckNsYXNzfWApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRFbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBNb2RhbFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RhbHMvTW9kYWxXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFscy9Nb2RhbFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgTW9kYWxDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kYWxzL01vZGFsQ29uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5cbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZFwiKTtcbmNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0XCIpO1xuY29uc3QgdXNlcm5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcbmNvbnN0IGFib3V0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0XCIpO1xuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybV9wcm9maWxlXCIpO1xuY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX2FkZFwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX2F2YXRhclwiKTtcblxuaW1wb3J0IHtcbiAgUExBQ0VTX0xJU1QsXG4gIE1PREFMX1BIT1RPLFxuICBNT0RBTF9BREQsXG4gIE1PREFMX1BST0ZJTEUsXG4gIFBST0ZJTEVfTkFNRSxcbiAgUFJPRklMRV9ST0xFLFxuICBQUk9GSUxFX0FWQVRBUixcbiAgTU9EQUxfQVZBVEFSLFxuICBNT0RBTF9DT05GSVJNLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjRcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMmMxYTJjMzMtNzc3ZC00MGJhLWFhODItMmU4Y2FkYTU1ZmZkXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gaW5pdCB1c2VySW5mbyBjb250YWluZXJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgdXNlck5hbWVTZWxlY3RvcjogUFJPRklMRV9OQU1FLFxuICByb2xlU2VsZWN0b3I6IFBST0ZJTEVfUk9MRSxcbiAgYXZhdGFyU2VsZWN0b3I6IFBST0ZJTEVfQVZBVEFSLFxufSk7XG5cbi8vY29uZmlybSBtb2RhbFxuY29uc3QgY29uZmlybU1vZGFsID0gbmV3IE1vZGFsQ29uZmlybWF0aW9uKHtcbiAgbW9kYWxTZWxlY3RvcjogTU9EQUxfQ09ORklSTSxcbiAgb25TdWJtaXQ6IChjYXJkKSA9PiB7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLl9pZClcbiAgICAgIC50aGVuKCgpID0+IGNhcmQucmVtb3ZlQ2FyZCgpKVxuICAgICAgLnRoZW4oKCkgPT4gY29uZmlybU1vZGFsLmNsb3NlKCkpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAgfSxcbn0pO1xuXG5jb25maXJtTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gcGhvdG8gbW9kYWxcbmNvbnN0IGltZ01vZGFsID0gbmV3IE1vZGFsV2l0aEltYWdlKE1PREFMX1BIT1RPKTtcbmltZ01vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IG9uQ2FyZENsaWNrID0gKG5hbWUsIHVybCkgPT4ge1xuICBpbWdNb2RhbC5vcGVuKG5hbWUsIHVybCk7XG59O1xuXG5jb25zdCBvbkNhcmREZWxldGUgPSAoY2FyZCkgPT4ge1xuICBjb25maXJtTW9kYWwub3BlbihjYXJkKTtcbn07XG5cbmNvbnN0IG9uQ2FyZExpa2UgPSAoY2FyZCwgaXNMaWtlZCkgPT4ge1xuICBpZiAoaXNMaWtlZCkge1xuICAgIGFwaVxuICAgICAgLmxpa2VDYXJkKGNhcmQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQubGlrZShyZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC51bmxpa2VDYXJkKGNhcmQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQubGlrZShyZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAgfVxufTtcblxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICByZXR1cm4gbmV3IENhcmQoe1xuICAgIGRhdGEsXG4gICAgaGFuZGxlQ2FyZENsaWNrOiBvbkNhcmRDbGljayxcbiAgICB1c2VySWQsXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2s6IG9uQ2FyZERlbGV0ZSxcbiAgICBoYW5kbGVMaWtlOiBvbkNhcmRMaWtlLFxuICB9KTtcbn07XG5cbmNvbnN0IGNhcmRzID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xuICAgICAgY2FyZHMuYWRkSXRlbShjYXJkLmdldENhcmQoKSk7XG4gICAgfSxcbiAgfSxcbiAgUExBQ0VTX0xJU1Rcbik7XG5cbi8vZ2V0IHVzZXIgaWRcbmFwaVxuICAuZ2V0VXNlckluZm8oKVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuXG4gICAgLy8gZ2V0IGNhcmRzIGluZm9cbiAgICBhcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkcy5zZXRJdGVtcyhyZXMpO1xuICAgICAgY2FyZHMucmVuZGVySXRlbXMoKTtcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbi8vIEluaXQgYWRkIGNhcmQgbW9kYWxcbmNvbnN0IGFkZFBsYWNlTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IE1PREFMX0FERCxcbiAgb25TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gICAgYWRkUGxhY2VNb2RhbC5zZXRMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLmFkZENhcmQoeyBuYW1lOiBkYXRhLm5hbWUsIGxpbms6IGRhdGEubGluaywgdXNlcklkIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKHJlcyk7XG4gICAgICAgIGNhcmRzLnByZXBlbmRJdGVtKGNhcmQuZ2V0Q2FyZCgpKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiBhZGRQbGFjZU1vZGFsLmNsb3NlKCkpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhZGRQbGFjZU1vZGFsLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sXG4gIGZvcm1WYWxpZGF0b3I6IG5ldyBGb3JtVmFsaWRhdG9yKHt9LCBhZGRDYXJkRm9ybSksXG59KTtcblxuYWRkUGxhY2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkUGxhY2VNb2RhbC5lbmFibGVGb3JtVmFsaWRhdGlvbigpO1xuXG4vLyBhZGRDYXJkIGJ1dHRvbiBsaXN0ZW5lclxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkUGxhY2VNb2RhbC5vcGVuKCkpO1xuXG4vLyBJbml0IGF2YXRhciBtb2RhbFxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IE1PREFMX0FWQVRBUixcbiAgb25TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgYXZhdGFyTW9kYWwuc2V0TG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5zZXRVc2VyQXZhdGFyKGRhdGEpXG4gICAgICAudGhlbigoX3JlcykgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiBhdmF0YXJNb2RhbC5jbG9zZSgpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgYXZhdGFyTW9kYWwuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbiAgZm9ybVZhbGlkYXRvcjogbmV3IEZvcm1WYWxpZGF0b3Ioe30sIGF2YXRhckZvcm0pLFxufSk7XG5cbmF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hdmF0YXJNb2RhbC5lbmFibGVGb3JtVmFsaWRhdGlvbigpO1xuXG4vLyBhZGRDYXJkIGJ1dHRvbiBsaXN0ZW5lclxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYXZhdGFyTW9kYWwub3BlbigpKTtcblxuLy8gaW5pdCBwcm9maWxlIG1vZGFsXG5jb25zdCBwcm9maWxlTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IE1PREFMX1BST0ZJTEUsXG4gIG9uU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIHByb2ZpbGVNb2RhbC5zZXRMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLnNldFVzZXJJbmZvKGRhdGEpXG4gICAgICAudGhlbigocmVzKSA9PiB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpKVxuICAgICAgLnRoZW4oKCkgPT4gcHJvZmlsZU1vZGFsLmNsb3NlKCkpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwcm9maWxlTW9kYWwuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbiAgZm9ybVZhbGlkYXRvcjogbmV3IEZvcm1WYWxpZGF0b3Ioe30sIGVkaXRQcm9maWxlRm9ybSksXG59KTtcblxucHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wcm9maWxlTW9kYWwuZW5hYmxlRm9ybVZhbGlkYXRpb24oKTtcblxuLy8gcHJvZmlsZSBidXR0b24gbGlzdGVuZXJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHVzZXJuYW1lSW5wdXQudmFsdWUgPSBuYW1lO1xuICBhYm91dElucHV0LnZhbHVlID0gYWJvdXQ7XG4gIHByb2ZpbGVNb2RhbC5vcGVuKCk7XG59KTtcbiIsImNvbnN0IFBMQUNFU19MSVNUID0gXCIucGxhY2VzX19saXN0XCI7XG5jb25zdCBNT0RBTF9QSE9UTyA9IFwiLm1vZGFsX3Bob3RvXCI7XG5jb25zdCBNT0RBTF9BREQgPSBcIi5tb2RhbF9hZGRcIjtcbmNvbnN0IE1PREFMX1BST0ZJTEUgPSBcIi5tb2RhbF9wcm9maWxlXCI7XG5jb25zdCBNT0RBTF9BVkFUQVIgPSBcIi5tb2RhbF9hdmF0YXJcIjtcbmNvbnN0IE1PREFMX0NPTkZJUk0gPSBcIi5tb2RhbF9jb25maXJtXCI7XG5jb25zdCBQUk9GSUxFX05BTUUgPSBcIi5wcm9maWxlX19uYW1lXCI7XG5jb25zdCBQUk9GSUxFX1JPTEUgPSBcIi5wcm9maWxlX19yb2xlXCI7XG5jb25zdCBQUk9GSUxFX0FWQVRBUiA9IFwiLnByb2ZpbGVfX2F2YXRhci1pbWdcIjtcblxuZXhwb3J0IHtcbiAgUExBQ0VTX0xJU1QsXG4gIE1PREFMX1BIT1RPLFxuICBNT0RBTF9BREQsXG4gIE1PREFMX1BST0ZJTEUsXG4gIE1PREFMX0FWQVRBUixcbiAgTU9EQUxfQ09ORklSTSxcbiAgUFJPRklMRV9OQU1FLFxuICBQUk9GSUxFX1JPTEUsXG4gIFBST0ZJTEVfQVZBVEFSLFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=